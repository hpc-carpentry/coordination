# HPCC Coworking Hours: 7 July 2022

The HPC Carpentries Task Force holds coworking hours on the first Thursday,
with two time slots intended to provide adequate coverage for our global
constituency. These two meeting times provide the least-painful coverage for
the six non-polar continents. Folks in Antarctica and aboard a space station
are invited to join whichever is most convenient.

- [11:00 UTC][earlier] &mdash; better for Africa, Asia, and Europe
- [21:00 UTC][evening] &mdash; better for the Americas and Oceania

A Google calendar has been set up to capture these events, available
[online][gcal] and for [download][ical] for your calendar app.

## VTC: **_[Click here to join!][meet]_**

Both meetings will use [Google Meet][meet]. You may also call in by [phone].

<!-- Info & Callback links -->

[meet]: https://meet.google.com/gez-aeui-jdx
[phone]: https://tel.meet/gez-aeui-jdx?hs=5
[earlier]:
  https://www.timeanddate.com/worldclock/fixedtime.html?iso=20220707T1100&msg=HPC+Carpentries+Coworking+Hour+1
[evening]:
  https://www.timeanddate.com/worldclock/fixedtime.html?iso=20220707T2100&msg=HPC+Carpentries+Coworking+Hour+2
[last-cowork]: https://codimd.carpentries.org/SNAju8Y5R_aVCbc_pBkbAw?view
[last-coord]: https://codimd.carpentries.org/waNBP4t6QY-miHcateTVZQ?view
[bof-codi]: https://codimd.carpentries.org/9-Y8OaVIT2qpb_P47TR7Lw?view
[minutes]: https://github.com/hpc-carpentry/coordination/tree/main/minutes
[sc21-milestone]: https://github.com/hpc-carpentry/coordination/milestone/1
[sc21-milestone-long]:
  https://github.com/hpc-carpentry/coordination/milestone/2
[refactor-hpc-intro]:
  https://github.com/carpentries-incubator/hpc-intro/pull/389
[elections22]: https://github.com/hpc-carpentry/coordination/issues/114
[carpentrycon]: https://2022.carpentrycon.org

---

## CarpentryCon 2022

HPC Carpentry has three sessions at [CarpentryCon'22][carpentrycon]!

- **\_Lightning Presentations: Community and More:** An Introduction to HPC
  Carpentry\_ is the second of five pre-recorded 5-min videos, with live Q&A
  beginning at the half-hour mark.
  - [Aug. 7 at 19:00 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=Lightning+Talks+Community+1&iso=20220807T19)
  - [Aug. 8 at 05:00 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=Lightning+Talks+Community+2&iso=20220808T05)
  - [Aug. 9 at 04:30 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=Lightning+Talks+Community+3&iso=20220809T0430)
  - Abstract:
    > This session will introduce a proposed curriculum for an HPC Carpentry
    > set of lessons. This session would be one of several sessions that will
    > engage the community in developing a flexible and holistic approach to
    > introducing techniques that are useful for working with large datasets
    > and utilizing existing large simulation software.
- **_Breakout Session: Planning HPC Carpentry's Route to Joining The
  Carpentries_**
  - [Aug. 4 at 10:00 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=Planning+HPC+Carpentrys+Route+to+Joining+The+Carpentries&iso=20220804T10)
  - Abstract:
    > The HPC Carpentry community has a number of lessons and resources which
    > provide learners with a way in to large (bigger than your laptop)
    > computing resources, with all the attendant complexity. Our strategic
    > goal is to join The Carpentries, to reach a wider pool of potential
    > learners and contributors. Because of the nature of HPC resources -- they
    > are not your laptop -- setting up a workshop for this material must
    > include access to some kind of HPC resource. In some cases, these can be
    > provided by a host institution. For a generic workshop, however, a
    > uniform learning environment could be configured as a cloud resource
    > using various technical tools. Cloud resources may require funding or
    > sponsorship. In this breakout session, we plan to discuss the
    > requirements for standing up an HPC Carpentry workshop, the challenges
    > this poses to the existing workshop set-up, and converge on a philosophy,
    > framework, or solution that can be successfully handed off to The
    > Carpentries.
- **_Sprint: HPC Workflows with Snakemake_** is spread over four 2-hour
  sessions
  - [Aug. 1 at 13:00 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=High+Performance+Workflows+1&iso=20220801T13)
  - [Aug. 4 at 14:00 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=High+Performance+Workflows+1&iso=20220804T14)
  - [Aug. 9 at 13:30 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=High+Performance+Workflows+1&iso=20220809T1330)
  - [Aug. 12 at 13:30 UTC](https://www.timeanddate.com/worldclock/fixedtime.html?msg=High+Performance+Workflows+1&iso=20220812T1330)
  - Abstract:
    > After an HPC Carpentry workshop has introduced the scheduler and simple
    > parallel execution, a logical follow-up lesson would involve exercising
    > the cluster and performing a scaling study on a parallel program, to
    > demonstrate the benefit of parallelization. We plan to fork the Workflows
    > in Snakemake lesson from the Incubator, using its framework to spin up a
    > number of jobs with varying degrees of parallelism that feed into a
    > plotting script. The final result will be a Snakemake script
    > encapsulating the workflow and a plot showing the limits of parallel
    > scaling, from which further lessons can build a deeper understanding of
    > parallel programming frameworks and optimization.

All 8 individual events are on the shared [HPC Carpentry Calendar][gcal],
though the canonical reference is the
[CarpentryCon Schedule](https://2022.carpentrycon.org/schedule/).

---

## 11:00 UTC Session

### Participants

- _name (pronouns), affiliation_
- Andrew Reid (he/him), NIST
- Trevor Keller (they/them), NIST
- Alan O'Cais
- Benson Muite

## Notes

### Cloud Resources

Alan has a proposal out that includes time on Azure for training --
forward-looking! -- and the Azure folks are on board to provide that time
gratis. This proposal will have to be renewed annually.

### CarpentryCon

#### Lightning Talk

- When is the Lightning Talk due?
- Trevor volunteered

#### Breakout

- Library Carpentries was the last lesson program to join. Can we find out who
  was running the show and entice them to join the conversation?
- What were the stumbling blocks?
- Difficulty growing a network of instructors willing & able to teach it?
- Trawl the Carpentries handbook for questions to ask, or topics to discuss.

- Infrastructure question: We will ask also about what the Carpentries can
  take/provide in terms of providing generic HPC-like cloud resources.

#### Sprint

- [name=Alan]: The best Sprints are the ones where the leaders are
  ultra-prepared: here's a task/instructions, OK go!
- Choosing what stays, what goes is too much for a Sprint: need to have that
  done ahead of time, and use the Sprint for more narrowly focused,
  well-documented Issues.
- Topics
  - Templating `_config.yml` for Slurm vs. PBS/Torque vs. HTCondor
  - Parsing output to feed into plotting script

---

## 21:00 UTC Session

### Participants

- _name (pronouns), affiliation_
- Trevor Keller (they/them), NIST
- Andrew Reid (he/him), NIST
- Rhys Kerley (he/him), Mike's summer student; CSC Mjr, Prof. Comm. Minor!
- Mike Renfro
- Wirawan Purwanto (he/him), ODU

### Review of HPC-intro pull request

Rhys's pull request:
https://github.com/carpentries-incubator/hpc-intro/blame/gh-pages/_episodes/13-scheduler.md#L180

#### Background

_(Slack message 2022-06-29)_ @Trevor Keller et al, I’ve got my student worker
reading over hpc-intro, may have some pull requests or other suggestions (he’d
read over it about a year ago when he was getting onboarded, but things have
changed). GitHub name is kerleyark, just so you know he’s not some random
person. Wasn’t sure of the etiquette of putting him on the Slack since he’s not
officially in Carpentries.

A few feedback:

- SLURM `--ntasks` is not equal to the number of CPU cores that is requested.
- There is also `--cpus-per-task` option.

Comments:

- the distinguishing between CPU, cores, threads, tasks => a bit too detailed
  for novice-level lessons. Would be appropriate for advanced-level lessons.

#### About Amdahl's Code

Not yet merged to main line. See the CTCMS's version for now:

https://github.com/hpc-workshops/ctcms-hpc-intro
https://hpc-workshops.github.io/ctcms-hpc-intro/

- Amdahl's code downloaded via wget in the
  [Transferring files with remote computers](https://hpc-workshops.github.io/ctcms-hpc-intro/15-transferring-files/index.html)
  episode
- Running Amdahl's code in
  [Running a parallel job](https://hpc-workshops.github.io/ctcms-hpc-intro/16-parallel/index.html)

#### Logistics of running Amdahl's code

- Currently, it requires people to install mpi4py on every HPC site (at least
  site administrator)
- With the popular anaconda distro, mpi4py requires "pip install" and
  additional complicated juggernaut.
- prerequisites for Amdahl's code would just be hidden under
  `module load amdahl` command.
- this means that the responsibility of preparing the infrastructure to run the
  Amdahl's code falls on the HPC's system administrator (=> indirectly, fall on
  the instructor). This could put a heavy burden with an average Carpentry
  instructor, who is not necessarily an HPC professional.

Review of "why" Amdahl's code: why using this code, instead of `pi.py`: In
experience, guiding learners to type up `pi.py` took up a whole session and
that causes us to lose focus (from HPC to Python). So we settled with "gray
box" Amdahl's. While we don't have learners look into the code and/or write
that, they can, and can understand the code based on one of the Carpentry's
python-novice lessons.

---

## Action Items

- [name=Trevor]: create & record a lightning talk

  - Markdown (remark.js) slides
  - Open Broadcaster (OBS) to record
  - Repo on HPC Workshops (or folder under Coordination)
  - Get it done before the Coordination Meeting

- [name=Andrew]: Create a more detailed plan for the breakout session.

  - Should we use polls? Tool: [Socrative](https://www.socrative.com/) can do
    this.
  - Outreach to Carpentries people with experience joining The Carpentries

- [name=Alan]: Create issues in the Snakemake repo that could be targeted in
  the sprint

  - Templating
    - Try to avoid a snippet libary situation if possible
  - Switching the example to be an Amdahls law plot
    - Will need to break this into manageable chunks

- [name=Benson] See if can get recently updated Chapel lessons collaboratively
  developed

---

<!-- Administrata -->

[gcal]:
  https://calendar.google.com/calendar/?cid=bWp0ZWh0ZmEycmVjZGZtNmZjdGUwMWVhdGNAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ
[ical]:
  https://calendar.google.com/calendar/ical/mjtehtfa2recdfm6fcte01eatc%40group.calendar.google.com/public/basic.ics
[minutes]: https://github.com/hpc-carpentry/coordination/tree/main/minutes
[website]: https://github.com/hpc-carpentry/hpc-carpentry.github.io

<!--HPC Carpentry Repositories-->

[coordination]: https://github.com/hpc-carpentry/coordination
[proposals]: https://github.com/hpc-carpentry/coordination/labels/proposal
[hpc-chapel]: https://github.com/hpc-carpentry/hpc-chapel
[hpc-intro]: https://github.com/carpentries-incubator/hpc-intro
[hpc-parallel]: https://github.com/hpc-carpentry/hpc-parallel-novice
[hpc-python]: https://github.com/hpc-carpentry/hpc-python
[hpc-shell]: https://github.com/hpc-carpentry/hpc-shell

<!--HPC Carpentry Issues-->

[coordination-issues]: https://github.com/hpc-carpentry/coordination/issues
[hpc-chapel-issues]: https://github.com/hpc-carpentry/hpc-chapel/issues
[hpc-intro-issues]: https://github.com/carpentries-incubator/hpc-intro/issues
[hpc-parallel-issues]:
  https://github.com/hpc-carpentry/hpc-parallel-novice/issues
[hpc-python-issues]: https://github.com/hpc-carpentry/hpc-python/issues
[hpc-shell-issues]: https://github.com/hpc-carpentry/hpc-shell/issues

<!--Carpentries References-->

[conduct]:
  https://docs.carpentries.org/topic_folders/policies/code-of-conduct.html
[invite]: https://swc-slack-invite.herokuapp.com/
[license]: https://creativecommons.org/licenses/by/4.0/
[slack]: https://swcarpentry.slack.com
